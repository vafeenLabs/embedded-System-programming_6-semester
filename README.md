# Программирование встроенных систем 6 семестр

## Exam 
**Демонстрация работы в ./exam**
ТЗ:

Задача 1: bluetooth метка
Плата: ESP32

Плата постоянно вещает по blutuse сигнал, при поступлении на цифровой порт сигнала, на заданный промежуток времени меняется вещаемый сгнал на другой при этом на каждый раз выдает разный сигнал из заданного набора. На пример постоянно вещается сигнал 100, при получении входного сигнала вещается 101, на следующий вход 102, 103, 104, после цикл начинается сначала.

Задача 2: Электронный замок с дешифратором
Платы: ESP32 (Замок)
Arduino (Дешефратор)

Замок при получении команды по UART передает код замка, после удачного "Взлома" получает команду по UART открыть замок и передает цифровой сигнал открыть замок (иметировать светодиодом), при не удачном, получает команду по UART неудачный взлом и уходит в спячку на заданное время.

Дешифратор при включении подает команду по UART в ответ получает код замка и начинает имметацию взлома (мини игра на ваш выбор)

Документация к ESP32: https://www.espressif.com/sites/default/files/documentation/esp32_datasheet_en.pdf
Эмуляторы: https://wokwi.com/esp32
Консольный вариант: https://rutube.ru/video/4d5a324aff105ea2949531bbf03a2e1a/

### task1 

Установка platformio для компиляции
```
pip install platformio
```

Загрузка прошивки на ESP
```
esptool.exe --chip esp32 --port COM5 write-flash 0x1000 firmware.bin
```

Компиляция проекта:
```
pio run
```

Монитор блютуза:
```
platformio device monitor —port COM7 —baud 115200
```

### task2


Загрузка прошивки на ESP
```
esptool.exe --chip esp32 --port COM5 write-flash 0x1000 firmware.bin
```

Компиляция и загрузка прошивки на Arduino
```
pio run -t upload
```